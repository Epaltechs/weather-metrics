{"version":3,"names":["GET_DATA","getData","payload","type","fetchData","location","dispatch","coodUrl","responseCord","axios","get","lon","lat","data","coord","url","response","weatherData","obj","objDaily","daily","forEach","el","push","min","temp","max","id","uuidv4","dt","main","weather","desc","description","icon","humidity","wind_speed","sunrise","sunset","current","timezone_offset","windSpeed","timezone","error","weatherReducer","state","action"],"sources":["weather.js"],"sourcesContent":["/* eslint-disable camelcase */\r\nimport axios from 'axios';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst GET_DATA = 'weather-app/weatherReducer/getData';\r\n\r\nexport const getData = (payload) => ({\r\n  type: GET_DATA,\r\n  payload,\r\n});\r\n\r\nexport const fetchData = (location) => async (dispatch) => {\r\n  try {\r\n    const coodUrl = `https://api.openweathermap.org/data/2.5/weather?q=${location}&i&appid=f1354fda8bec32646187c58f25f48372`;\r\n    const responseCord = await axios.get(coodUrl);\r\n    const { lon, lat } = responseCord.data.coord;\r\n    const url = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&exclude=hourly&appid=f1354fda8bec32646187c58f25f48372`;\r\n    const response = await axios.get(url);\r\n    const data = await response.data;\r\n    const weatherData = [];\r\n    const obj = data;\r\n    const objDaily = obj.daily;\r\n    const daily = [];\r\n\r\n    objDaily.forEach((el) => {\r\n      daily.push({\r\n        min: el.temp.min,\r\n        max: el.temp.max,\r\n        id: uuidv4(),\r\n        dt: el.dt,\r\n        main: el.weather[0].main,\r\n        desc: el.weather[0].description,\r\n        icon: el.weather[0].icon,\r\n      });\r\n    });\r\n\r\n    const {\r\n      dt, temp, humidity, wind_speed, sunrise, sunset,\r\n    } = obj.current;\r\n\r\n    const { description, icon } = obj.current.weather[0];\r\n    const { timezone_offset } = obj;\r\n\r\n    weatherData.dt = dt;\r\n    weatherData.temp = temp;\r\n    weatherData.humidity = humidity;\r\n    weatherData.windSpeed = wind_speed;\r\n    weatherData.sunrise = sunrise;\r\n    weatherData.sunset = sunset;\r\n    weatherData.daily = daily;\r\n    weatherData.desc = description;\r\n    weatherData.icon = icon;\r\n\r\n    weatherData.timezone = timezone_offset;\r\n    dispatch(getData(weatherData));\r\n  } catch (error) {\r\n    <h2>error</h2>;\r\n  }\r\n};\r\n\r\nexport default function weatherReducer(state = [], action) {\r\n  switch (action.type) {\r\n    case GET_DATA:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n// API url = `https://api.openweathermap.org/data/2.5/weather?q=${location}&units=imperial&appid=f1354fda8bec32646187c58f25f48372`;\r\n"],"mappings":";;;;;;;;;;AACA;;AACA;;;;;AAEA,MAAMA,QAAQ,GAAG,oCAAjB;;AAEO,MAAMC,OAAO,GAAIC,OAAD,KAAc;EACnCC,IAAI,EAAEH,QAD6B;EAEnCE;AAFmC,CAAd,CAAhB;;;;AAKA,MAAME,SAAS,GAAIC,QAAD,IAAc,MAAOC,QAAP,IAAoB;EACzD,IAAI;IACF,MAAMC,OAAO,GAAI,qDAAoDF,QAAS,2CAA9E;IACA,MAAMG,YAAY,GAAG,MAAMC,cAAA,CAAMC,GAAN,CAAUH,OAAV,CAA3B;IACA,MAAM;MAAEI,GAAF;MAAOC;IAAP,IAAeJ,YAAY,CAACK,IAAb,CAAkBC,KAAvC;IACA,MAAMC,GAAG,GAAI,uDAAsDH,GAAI,QAAOD,GAAI,wDAAlF;IACA,MAAMK,QAAQ,GAAG,MAAMP,cAAA,CAAMC,GAAN,CAAUK,GAAV,CAAvB;IACA,MAAMF,IAAI,GAAG,MAAMG,QAAQ,CAACH,IAA5B;IACA,MAAMI,WAAW,GAAG,EAApB;IACA,MAAMC,GAAG,GAAGL,IAAZ;IACA,MAAMM,QAAQ,GAAGD,GAAG,CAACE,KAArB;IACA,MAAMA,KAAK,GAAG,EAAd;IAEAD,QAAQ,CAACE,OAAT,CAAkBC,EAAD,IAAQ;MACvBF,KAAK,CAACG,IAAN,CAAW;QACTC,GAAG,EAAEF,EAAE,CAACG,IAAH,CAAQD,GADJ;QAETE,GAAG,EAAEJ,EAAE,CAACG,IAAH,CAAQC,GAFJ;QAGTC,EAAE,EAAE,IAAAC,QAAA,GAHK;QAITC,EAAE,EAAEP,EAAE,CAACO,EAJE;QAKTC,IAAI,EAAER,EAAE,CAACS,OAAH,CAAW,CAAX,EAAcD,IALX;QAMTE,IAAI,EAAEV,EAAE,CAACS,OAAH,CAAW,CAAX,EAAcE,WANX;QAOTC,IAAI,EAAEZ,EAAE,CAACS,OAAH,CAAW,CAAX,EAAcG;MAPX,CAAX;IASD,CAVD;IAYA,MAAM;MACJL,EADI;MACAJ,IADA;MACMU,QADN;MACgBC,UADhB;MAC4BC,OAD5B;MACqCC;IADrC,IAEFpB,GAAG,CAACqB,OAFR;IAIA,MAAM;MAAEN,WAAF;MAAeC;IAAf,IAAwBhB,GAAG,CAACqB,OAAJ,CAAYR,OAAZ,CAAoB,CAApB,CAA9B;IACA,MAAM;MAAES;IAAF,IAAsBtB,GAA5B;IAEAD,WAAW,CAACY,EAAZ,GAAiBA,EAAjB;IACAZ,WAAW,CAACQ,IAAZ,GAAmBA,IAAnB;IACAR,WAAW,CAACkB,QAAZ,GAAuBA,QAAvB;IACAlB,WAAW,CAACwB,SAAZ,GAAwBL,UAAxB;IACAnB,WAAW,CAACoB,OAAZ,GAAsBA,OAAtB;IACApB,WAAW,CAACqB,MAAZ,GAAqBA,MAArB;IACArB,WAAW,CAACG,KAAZ,GAAoBA,KAApB;IACAH,WAAW,CAACe,IAAZ,GAAmBC,WAAnB;IACAhB,WAAW,CAACiB,IAAZ,GAAmBA,IAAnB;IAEAjB,WAAW,CAACyB,QAAZ,GAAuBF,eAAvB;IACAlC,QAAQ,CAACL,OAAO,CAACgB,WAAD,CAAR,CAAR;EACD,CA3CD,CA2CE,OAAO0B,KAAP,EAAc;IACd;IAAA;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EACD;AACF,CA/CM;;;;AAiDQ,SAASC,cAAT,CAAwBC,KAAK,GAAG,EAAhC,EAAoCC,MAApC,EAA4C;EACzD,QAAQA,MAAM,CAAC3C,IAAf;IACE,KAAKH,QAAL;MACE,OAAO8C,MAAM,CAAC5C,OAAd;;IACF;MACE,OAAO2C,KAAP;EAJJ;AAMD,C,CAED"}